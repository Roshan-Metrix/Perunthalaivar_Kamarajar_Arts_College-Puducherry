<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About Us - Perunthalaivar Kamarajar Arts College</title>
    <link rel="stylesheet" href="../dist/output.css">
    <style>
        .banner {
            width: 100%;
            height: 250px;
            display: blocks;
            object-fit: cover;
        }

        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }

        .reveal-visible {
            opacity: 1;
            transform: translateY(0);
        }

        .typewriter-scroll {
            min-height: 24px;
            /* Adjusted min-height for list items and paragraphs */
        }

        .typing-cursor::after {
            content: '|';
            display: inline-blocks;
            animation: blink-caret 0.75s step-end infinite;
            color: #3B82F6;
            font-weight: bold;
        }

        @keyframes blink-caret {

            from,
            to {
                opacity: 1
            }

            50% {
                opacity: 0
            }
        }

        #hero-section {
            background: linear-gradient(-45deg, #1d4ed8, #3b82f6, #60a5fa, #2563eb);
            background-size: 400% 400%;
            animation: gradient-bg 15s ease infinite;
        }

        @keyframes gradient-bg {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .member-card,
        .person-image {
            transition: transform 0.3s ease-out, box-shadow 0.3s ease-out;
            cursor: pointer;
        }

        .member-card:hover,
        .person-image:hover {
            transform: translateY(-8px) scale(1.03);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        hr {
            border: none;
            height: 1px;
            background: linear-gradient(to right, transparent, #d1d5db, transparent);
        }

        /* Modal Styles */
        #person-modal {
            transition: opacity 0.3s ease-in-out;
        }

        .flowchart-wrapper {
            display: flex;
            justify-content: center;
            align-items: start;
            width: 100vw;
            min-height: 100vh;
            padding: 0;
            box-sizing: border-box;
        }

        .flowchart {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 60px;
            padding: 40px 20px;
            max-width: 1300px;
            width: 100%;
            position: relative;
        }

        .org-title {
            font-size: 2.25rem;
            font-weight: 700;
            color: #000;
            margin-bottom: 2px;
            text-align: center;
            letter-spacing: 1.5px;
        }

        .level {
            display: flex;
            justify-content: center;
            gap: 56px;
            width: 100%;
            position: relative;
        }

        .sub-col {
            display: flex;
            flex-direction: column;
            gap: 16px;
            align-items: center;
        }

        .blocks {
            background: linear-gradient(180deg, #f4f4f2 0%, #f8f7f4 100%);
            border-radius: 12px;
            box-shadow: 0 6px 18px rgba(195, 100, 0, 0.13);
            padding: 13px 36px;
            min-width: 162px;
            max-width: 230px;
            text-align: center;
            color: #654321;
            font-weight: 600;
            font-size: 1.06rem;
            position: relative;
            cursor: pointer;
            transition: box-shadow 0.3s ease;
            border: 1.5px solid #e4a66e;
        }

        .blocks:hover {
            box-shadow: 0 12px 36px rgba(195, 100, 0, 0.19);
            background: linear-gradient(180deg, #ffecb3 0%, #ffc278 100%);
        }

        .blocks .tooltip {
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translate(-50%, 12px);
            background: #3d2e0f;
            color: #fff9e6;
            padding: 7px 11px;
            border-radius: 8px;
            font-weight: 400;
            font-size: 13px;
            max-width: 204px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
            box-shadow: 0 4px 18px rgba(70, 45, 7, 0.09);
            z-index: 2;
            white-space: normal;
        }

        .blocks:hover .tooltip {
            opacity: 1;
            pointer-events: auto;
        }

        /* Principal blocks special */
        #principal {
            position: relative;
        }

        #principal:hover::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            margin-top: 10px;
            width: 200px;
            height: 200px;
            background-image: url("../images/images/Principal_Ex.jpeg");
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
            border-radius: 12px;
            pointer-events: none;
            z-index: 9999;
        }

        /* Specific smaller height blockss for Director of Phy. Edn. and Asst. Librarian */
        #director-phyedn,
        #asst-librarian {
            padding: 18px 24px;
            min-width: 185px;
            max-width: 220px;
            height: 85px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.15rem;
        }

        /* Connector lines (use absolutely positioned SVG) */
        .connectors {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        @media (max-width: 1200px) {
            .level {
                gap: 32px;
            }

            .blocks {
                min-width: 135px;
                font-size: 0.95rem;
            }

            #director-phyedn,
            #asst-librarian {
                min-width: 150px;
                height: 70px;
                font-size: 1rem;
            }
        }

        @media (max-width: 800px) {
            .level {
                gap: 14px;
                flex-wrap: wrap;
            }

            .blocks {
                padding: 10px 18px;
                font-size: 0.87rem;
                min-width: 125px;
                max-width: 150px;
            }

            #director-phyedn,
            #asst-librarian {
                min-width: 130px;
                height: 60px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>

<body>
    <!--  HEADER  -->
    <div id="header-box"></div>

    <!-- Main -->
    <main>
        <section id="home" class="py-5 bg-white">
            <div class="container mx-auto px-6 text-center reveal">
                <h2 class="text-3xl md:text-4xl font-bold mb-6">Welcome to
                    Perunthalaivar Kamarajar Arts College</h2>
                <div class="max-w-4xl mx-auto text-left text-gray-600 text-lg space-y-8">
                    <div>
                        <h3 class="text-2xl font-semibold mb-2 text-gray-800">Our
                            Vision</h3>
                        <ul class="list-disc list-inside space-y-2">
                            <li class="typewriter-scroll"
                                data-text="To impart quality education and to produce employable rural students"></li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-2xl font-semibold mb-2 text-gray-800">Our
                            Mission</h3>
                        <ul class="list-disc list-inside space-y-2">
                            <li class="typewriter-scroll"
                                data-text="To provide in-depth knowledge in fundamentals to rural students, to improve the learning and analytical skills.">
                            </li>
                            <li class="typewriter-scroll"
                                data-text="To develop the overall personality of the students and to mould them into good citizens with integrity.">
                            </li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-2xl font-semibold mb-2 text-gray-800">THE
                            INSTITUTION</h3>
                        <p align="justify" class="text-gray-600 mb-4 text-lg">Perunthalaivar
                            kamarajar Arts College is an institution for
                            rural students with a glorious history dating
                            back to June 1998. It took off with two courses
                            viz., B.A. (Functional Tamil), B.Sc
                            (Mathematics), and was then housed in Kalaignar
                            Karunanithi Govt. Higher Secondary School.</p>
                        <p align="justify" class="text-gray-600 mb-4 text-lg">Foundation
                            Stone for the new building was laid in October
                            2002, with the Honorable Lieutenant Governor,
                            K.R.Malkani and the then Chief Minister of
                            Puducherry, Thiru N.Rangasamy. The college was
                            shifted to this campus in the year 2004 on
                            completion of the state of art infrastructure.
                            BBA was introduced in the year 2005-2006. B.Com
                            & BCA were started in the year 2010-2011. </p>
                        <p align="justify" class="text-gray-600 mb-4 text-lg">Seventy five
                            percent of admissions are reserved for students
                            hailing from rural areas. The college well ahead
                            of development has 2f status and 12B status from
                            UGC.
                        </p>

                    </div>
                </div>
            </div>
        </section>

        <hr>

        <section id="principal-desk" class="py-20 bg-white">
            <div class="container mx-auto px-6 reveal">
                <div class="flex flex-col md:flex-row-reverse items-center gap-12">
                    <div class="md:w-1/3 text-center">
                        <img src="../images/images/Principal_Ex.jpeg" alt="College Principal"
                            class="person-image rounded-full shadow-lg w-64 h-64 mx-auto object-cover clickable-person"
                            data-name="Principal's Name" data-title="Principal"
                            data-img-src="../images/images/Principal_Ex.jpeg"
                            data-message="Welcome to Perunthalaivar Kamarajar Arts College. We believe in the transformative power of education. Our dedicated faculty and staff are here to guide you on your journey of discovery, helping you to unlock your full potential and achieve your dreams. We look forward to a productive and inspiring academic year with you.">
                    </div>
                    <div class="md:w-2/3">
                        <h2 class="text-3xl font-bold text-gray-800 mb-4 typewriter-scroll"
                            data-text="From the Principal's Desk"></h2>
                        <p align="justify" class="text-gray-600 mb-4 text-lg">Education is
                            not just about imparting knowledge but about
                            nurturing values, character, and life skills. At
                            Perunthalaivar Kamarajar Arts College, we strive
                            to provide a holistic learning environment that
                            empowers our students to face the challenges of
                            the modern world. </p>
                        <p align="justify" class="text-gray-600 mb-4 text-lg">
                            Our vision is to impart quality education and
                            produce employable rural students who can
                            contribute meaningfully to society. We firmly
                            believe that true education lies in developing
                            integrity, morality, and analytical thinking in
                            our learners.</p>
                        <p align="justify" class="text-gray-600 mb-4 text-lg">
                            The institution has grown steadily since its
                            inception in 1998, expanding its academic
                            horizons with new courses, state-of-the-art
                            infrastructure, and dedicated faculty members.
                            Our focus has always been on uplifting rural
                            students and ensuring they have access to equal
                            opportunities for growth.</p>
                        <p align="justify" class="text-gray-600 mb-4 text-lg">
                            We encourage our students to excel not only in
                            academics but also in co-curricular and
                            extracurricular activities, thereby shaping them
                            into well-rounded personalities. Our faculty
                            members constantly inspire, motivate, and guide
                            students towards excellence.</p>
                        <p align="justify" class="text-gray-600 mb-4 text-lg">
                            As we continue to progress, our commitment
                            remains firmâ€”to mould our students into
                            responsible citizens who uphold values of
                            discipline, dignity, and service. With the
                            cooperation of staff, students, parents, and
                            well-wishers, we are confident of achieving
                            greater heights in the years to come.
                        </p>
                        <p style="font-size:20px" class="text-gray-800 font-semibold"> - Dr. S.
                            Kanaga Vel</p>
                    </div>
                </div>
            </div>
        </section>

        <hr>

        <section class="flowchart-wrapper bg-white" id="administration">
            <div class="flowchart" id="flowchart">
                <div class="org-title">ADMINISTRATIONS</div>
                <div class="level" id="level1">
                    <div class="blocks" id="chairman" tabindex="0">Chairman
                        <div class="tooltip">Governing head of college administration.</div>
                    </div>
                </div>
                <div class="level" id="level2">
                    <div class="blocks" id="secretary" tabindex="0">Member Secretary
                        <div class="tooltip">Supervises policy, reports to Chairman.</div>
                    </div>
                </div>
                <div class="level" id="level3">
                    <div class="blocks" id="principal" tabindex="0">Principal
                        <div class="tooltip">Academic & operational head.</div>
                    </div>
                </div>
                <div class="level" id="level4">
                    <div class="sub-col">
                        <div class="blocks" id="departments" tabindex="0">Departments
                            <div class="tooltip">All academic departments (CSE, ECE, ME, etc).</div>
                        </div>
                        <div class="blocks" id="heads" tabindex="0">Heads
                            <div class="tooltip">Department heads manage teaching/research.</div>
                        </div>
                        <div class="blocks" id="faculty" tabindex="0">Faculty Members
                            <div class="tooltip">Faculty conduct teaching and student mentoring.</div>
                        </div>
                    </div>
                    <div class="blocks" id="director-phyedn" tabindex="0">Director of Phy. Edn.
                        <div class="tooltip">Manages sports and physical activity programs.</div>
                    </div>
                    <div class="blocks" id="asst-librarian" tabindex="0">Asst. Librarian
                        <div class="tooltip">Manages library and academic resources.</div>
                    </div>
                    <div class="sub-col">
                        <div class="blocks" id="office" tabindex="0">Office
                            <div class="tooltip">Handles all office services and records.</div>
                        </div>
                        <div class="blocks" id="superintendent" tabindex="0">Superintendent
                            <div class="tooltip">Office operations supervisor.</div>
                        </div>
                        <div class="blocks" id="assistant" tabindex="0">Assistant
                            <div class="tooltip">Assists in clerical work.</div>
                        </div>
                        <div class="blocks" id="udc" tabindex="0">UDC
                            <div class="tooltip">Upper division clerk (office management).</div>
                        </div>
                        <div class="blocks" id="storekeeper" tabindex="0">Store Keeper
                            <div class="tooltip">Maintains inventory and store files.</div>
                        </div>
                        <div class="blocks" id="mts-security" tabindex="0">MTS (Gen.) & Security
                            <div class="tooltip">General staff & campus security.</div>
                        </div>
                    </div>
                </div>
                <svg class="connectors" id="connectors" width="100%" height="100%"></svg>
            </div>
        </section>

    </main>

    <!-- Modal Structure -->
    <div id="person-modal"
        class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden opacity-0">
        <div id="modal-content"
            class="bg-white rounded-lg shadow-2xl w-full max-w-3xl flex flex-col md:flex-row overflow-hidden transform scale-95 transition-transform duration-300">
            <img id="modal-image" src alt="Person Photo" class="w-full md:w-1/2 h-64 md:h-auto object-cover">
            <div class="p-8 flex flex-col justify-center">
                <h3 id="modal-name" class="text-3xl font-bold text-gray-800"></h3>
                <p id="modal-title" class="text-lg text-blue-600 mb-4"></p>
                <p id="modal-message" class="text-gray-600 text-lg min-h-[100px]"></p>
            </div>
        </div>
        <button id="modal-close-btn"
            class="absolute top-4 right-4 text-white text-4xl font-bold hover:text-gray-300 transition">&times;</button>
    </div>

    <!-- Footer -->
    <div id="footer-box"></div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Mobile Menu Toggle ---
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
            }
            // --- Typewriter Function ---
            function typewriterEffect(element, text, speed) {
                if (element.dataset.typewriterIntervalId) {
                    clearInterval(parseInt(element.dataset.typewriterIntervalId));
                }
                let i = 0;
                element.innerHTML = "";
                element.classList.add('typing-cursor');
                const intervalId = setInterval(() => {
                    if (i < text.length) {
                        element.innerHTML += text.charAt(i);
                        i++;
                    } else {
                        clearInterval(intervalId);
                        element.classList.remove('typing-cursor');
                        delete element.dataset.typewriterIntervalId;
                    }
                }, speed);
                element.dataset.typewriterIntervalId = intervalId.toString();
            }
            // --- Intersection Observer for Animations on Scroll ---
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        if (entry.target.classList.contains('reveal')) {
                            entry.target.classList.add('reveal-visible');
                        }
                        if (entry.target.classList.contains('typewriter-scroll')) {
                            if (!entry.target.dataset.typed) {
                                const textToType = entry.target.getAttribute('data-text');
                                typewriterEffect(entry.target, textToType,
                                    30); // Speed adjusted for readability
                                entry.target.dataset.typed = "true";
                            }
                        }
                    }
                });
            }, {
                threshold: 0.15
            });
            document.querySelectorAll('.reveal, .typewriter-scroll').forEach(el => observer.observe(el));
            // --- Modal Logic ---
            const modal = document.getElementById('person-modal');
            const modalContent = document.getElementById('modal-content');
            const modalImage = document.getElementById('modal-image');
            const modalName = document.getElementById('modal-name');
            const modalTitle = document.getElementById('modal-title');
            const modalMessage = document.getElementById('modal-message');
            const closeBtn = document.getElementById('modal-close-btn');
            const clickablePeople = document.querySelectorAll('.clickable-person');

            function openModal(name, title, imgSrc, message) {
                modalName.textContent = name;
                modalTitle.textContent = title;
                modalImage.src = imgSrc;
                modalMessage.textContent = '';
                modal.classList.remove('hidden');
                setTimeout(() => {
                    modal.classList.remove('opacity-0');
                    modalContent.classList.remove('scale-95');
                    typewriterEffect(modalMessage, message, 40);
                }, 10);
            }

            function closeModal() {
                modal.classList.add('opacity-0');
                modalContent.classList.add('scale-95');
                setTimeout(() => {
                    modal.classList.add('hidden');
                    if (modalMessage.dataset.typewriterIntervalId) {
                        clearInterval(parseInt(modalMessage.dataset.typewriterIntervalId));
                        delete modalMessage.dataset.typewriterIntervalId;
                    }
                }, 300);
            }
            clickablePeople.forEach(person => {
                person.addEventListener('click', (e) => {
                    const data = e.currentTarget.dataset;
                    openModal(data.name, data.title, data.imgSrc, data.message);
                });
            });
            closeBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });
        });

        function getblocksCenter(blocks) {
            const rect = blocks.getBoundingClientRect();
            const parentRect = document.getElementById('flowchart').getBoundingClientRect();
            return {
                x: rect.left + rect.width / 2 - parentRect.left,
                y: rect.top + rect.height / 2 - parentRect.top,
            };
        }

        function connector(svg, start, end, color, width) {
            const ns = "http://www.w3.org/2000/svg";
            // Curve for vertical/horizontal splits
            let path;
            if (Math.abs(start.x - end.x) > 4) {
                // L and curve path
                let midY = (start.y + end.y) / 2;
                path = `M ${start.x} ${start.y} V ${midY} H ${end.x} V ${end.y}`;
            } else {
                // straight vertical
                path = `M ${start.x} ${start.y} V ${end.y}`;
            }
            const p = document.createElementNS(ns, 'path');
            p.setAttribute('d', path);
            p.setAttribute('stroke', color);
            p.setAttribute('stroke-width', width);
            p.setAttribute('fill', 'none');
            p.setAttribute('marker-end', 'url(#arrowhead)');
            svg.appendChild(p);
        }

        function clearSVG(svg) {
            while (svg.firstChild) svg.removeChild(svg.firstChild);
        }

        function drawChartConnectors() {
            const svg = document.getElementById('connectors');
            clearSVG(svg);
            // Arrowhead marker
            const ns = "http://www.w3.org/2000/svg";
            const defs = document.createElementNS(ns, "defs");
            defs.innerHTML = `
      <marker id="arrowhead" markerWidth="12" markerHeight="12" refX="6" refY="6" orient="auto" markerUnits="strokeWidth">
        <path d="M2,2 L6,6 L2,10" fill="none" stroke="#e4a66e" stroke-width="2"/>
      </marker>
    `;
            svg.appendChild(defs);
            // Helper: connect two blocks IDs
            function connect(fromId, toId) {
                const from = getblocksCenter(document.getElementById(fromId));
                const to = getblocksCenter(document.getElementById(toId));
                connector(svg, {
                    x: from.x,
                    y: from.y + 24
                }, {
                    x: to.x,
                    y: to.y - 24
                }, "#e4a66e", 2.8);
            }
            // Helper vertical chain within .sub-col
            function connectChain(ids) {
                for (let i = 1; i < ids.length; i++) {
                    connect(ids[i - 1], ids[i]);
                }
            }
            // Connections as before
            connect('chairman', 'secretary');
            connect('secretary', 'principal');
            ['departments', 'director-phyedn', 'asst-librarian', 'office'].forEach(toId => connect('principal', toId));
            connect('departments', 'heads');
            connect('heads', 'faculty');
            connectChain(['office', 'superintendent', 'assistant', 'udc', 'storekeeper', 'mts-security']);
        }
        window.addEventListener('resize', drawChartConnectors);
        window.addEventListener('load', drawChartConnectors);
    </script>
    <script src="./script.js"></script>
</body>

</html>