<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Springfield High - Facilities</title>
    <link rel="stylesheet" href="../dist/output.css">
    <style>
        .dropdown-menu {
            transition: opacity 0.3s ease-out, transform 0.3s ease-out;
        }

        .section-card {
            scroll-margin-top: 80px;
        }

        .typing-cursor::after {
            content: '|';
            display: inline-block;
            animation: blink 0.7s infinite;
            font-weight: bold;
            color: #f59e0b;
        }

        @keyframes blink {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0;
            }
        }

        /* Lightbox styles */
        .lightbox {
            transition: opacity 0.3s ease;
        }

        .lightbox-content {
            transition: transform 0.3s ease;
        }
    </style>
</head>

<body>
    <!--  HEADER -->
<div id="header-box"></div>
    <!-- Main Content -->
    <main>

        <!-- Facilities Sections -->
        <div class="container mx-auto px-6 py-12 md:py-20 space-y-16">

            <!-- Library -->
            <section id="library" class="section-card bg-white p-8 rounded-xl shadow-lg overflow-hidden">
                <div class="flex flex-col md:flex-row items-center">
                    <div class="w-full md:w-1/2 grid grid-cols-2 gap-4 mb-6 md:mb-0 md:mr-8 image-gallery"
                        data-gallery-id="library">
                        <img src="../images/infrastucture/library1.jpg" alt="Library Reading Area"
                            class="gallery-item h-full w-full object-cover rounded-lg shadow-md cursor-pointer hover:opacity-80 transition-opacity">
                        <img src="../images/infrastucture/library2.jpg" alt="Library Shelf View"
                            class="gallery-item h-full w-full object-cover rounded-lg shadow-md cursor-pointer hover:opacity-80 transition-opacity">
                    </div>
                    <div class="md:w-1/2">
                        <h2 class="text-3xl font-bold text-gray-800 mb-4">Our
                            Library</h2>
                        <p class="text-gray-600 leading-relaxed min-h-[120px] description-text">
                            "Our library is a sanctuary for knowledge seekers, housing an extensive collection of books, journals, and digital resources. It provides a quiet and inspiring environment for students to study, research, and expand their horizons.
                        </p>
                    </div>
                </div>
            </section>

            <!-- Computer Laboratory -->
            <section id="computer-lab" class="section-card bg-white p-8 rounded-xl shadow-lg overflow-hidden">
                <div class="flex flex-col md:flex-row-reverse items-center">
                    <div class="w-full md:w-1/2 grid grid-cols-2 gap-4 mb-6 md:mb-0 md:ml-8 image-gallery"
                        data-gallery-id="computer-lab">
                        <img src="../images/infrastucture/lab.jpeg" alt="Computer Lab View"
                            class="gallery-item h-full w-full object-cover rounded-lg shadow-md cursor-pointer hover:opacity-80 transition-opacity">
                        <img src="../images/infrastucture/lab1.jpeg" alt="Coding Class"
                            class="gallery-item h-full w-full object-cover rounded-lg shadow-md cursor-pointer hover:opacity-80 transition-opacity">
                        <img src="../images/infrastucture/lab2.jpeg" alt="Coding Class"
                            class="gallery-item h-full w-full object-cover rounded-lg shadow-md cursor-pointer hover:opacity-80 transition-opacity">

                    </div>
                    <div class="md:w-1/2">
                        <h2 class="text-3xl font-bold text-gray-800 mb-4">Computer
                            Laboratory</h2>
                        <p class="text-gray-600 leading-relaxed min-h-[120px] description-text">
                            "Equipped with the latest technology and high-speed internet, our computer lab provides students with the tools they need to excel in a digital world. We offer a range of software and a supportive environment for coding, design, and research.
                        </p>
                    </div>
                </div>
            </section>

            <!-- Play Ground -->
            <section id="playground" class="section-card bg-white p-8 rounded-xl shadow-lg overflow-hidden">
                <div class="flex flex-col md:flex-row items-center">
                    <div class="w-full md:w-1/2 grid grid-cols-2 gap-4 mb-6 md:mb-0 md:mr-8 image-gallery"
                        data-gallery-id="playground">
                        <img src="../images/infrastucture/Sport.JPG" alt="Football Field"
                            class="gallery-item h-full w-full object-cover rounded-lg shadow-md cursor-pointer hover:opacity-80 transition-opacity">
                        <img src="../images/infrastucture/sport1.jpeg" alt="Basketball Court"
                            class="gallery-item h-full w-full object-cover rounded-lg shadow-md cursor-pointer hover:opacity-80 transition-opacity">
                        <img src="../images/infrastucture/sport2.jpeg" alt="Students Playing"
                            class="gallery-item col-span-2 h-full w-full object-cover rounded-lg shadow-md cursor-pointer hover:opacity-80 transition-opacity">
                    </div>
                    <div class="md:w/1/2">
                        <h2 class="text-3xl font-bold text-gray-800 mb-4">Play
                            Ground</h2>
                        <p class="text-gray-600 leading-relaxed min-h-[120px] description-text">
                            "Physical education is vital for a balanced life. Our expansive playground offers facilities for various sports like cricket, football, and athletics, encouraging students to stay active, build teamwork, and embrace a healthy lifestyle."
                        </p>
                    </div>
                </div>
            </section>

            <!-- Auditorium -->
            <section id="campus-life"
                class="section-card text-center bg-white p-8 rounded-xl shadow-lg overflow-hidden">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">Vibrant
                    Campus Life</h2>
                <p class="text-gray-600 leading-relaxed max-w-3xl mx-auto mb-12">At
                    Springfield High, education extends beyond the
                    classroom. We foster a lively and inclusive community
                    where students can explore their passions, develop new
                    skills, and create lasting friendships.</p>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12 text-left">
                    <!-- Student Clubs -->
                    <div class="bg-gray-50 p-6 rounded-lg">
                        <div
                            class="flex items-center justify-center h-12 w-12 rounded-full bg-amber-100 text-amber-600 mx-auto mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                            </svg>
                        </div>
                        <h3 class="text-xl font-semibold text-center text-gray-800 mb-2">Student
                            Clubs</h3>
                        <p class="text-gray-600">From the Science Olympiad
                            to the Drama Club and the school's cricket team,
                            there's
                            a place for everyone to shine and pursue their
                            interests.</p>
                    </div>
                    <!-- Annual Events -->
                    <div class="bg-gray-50 p-6 rounded-lg">
                        <div
                            class="flex items-center justify-center h-12 w-12 rounded-full bg-amber-100 text-amber-600 mx-auto mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                            </svg>
                        </div>
                        <h3 class="text-xl font-semibold text-center text-gray-800 mb-2">Annual
                            Events</h3>
                        <p class="text-gray-600">Our calendar is packed with
                            exciting events like the Annual Sports Day, the
                            'Spectra' cultural festival, and science
                            exhibitions that bring our community
                            together.</p>
                    </div>
                    <!-- Community & Culture -->
                    <div class="bg-gray-50 p-6 rounded-lg">
                        <div
                            class="flex items-center justify-center h-12 w-12 rounded-full bg-amber-100 text-amber-600 mx-auto mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </div>
                        <h3 class="text-xl font-semibold text-center text-gray-800 mb-2">Supportive
                            Community</h3>
                        <p class="text-gray-600">We cultivate a culture of
                            respect, collaboration, and mutual support,
                            ensuring
                            every student feels valued and empowered to
                            succeed.</p>
                    </div>
                </div>

                <div class="w-full grid grid-cols-2 md:grid-cols-4 gap-4 image-gallery" data-gallery-id="campus-life">
                    <img src="https://placehold.co/400x300/fef3c7/333333?text=Cultural+Fest"
                        alt="Students in a cultural festival"
                        class="gallery-item h-full w-full object-cover rounded-lg shadow-md cursor-pointer hover:opacity-80 transition-opacity">
                    <img src="https://placehold.co/400x300/fde68a/333333?text=Sports+Day" alt="Annual sports day event"
                        class="gallery-item h-full w-full object-cover rounded-lg shadow-md cursor-pointer hover:opacity-80 transition-opacity">
                    <img src="https://placehold.co/400x300/fcd34d/333333?text=Science+Fair"
                        alt="Students at a science fair"
                        class="gallery-item h-full w-full object-cover rounded-lg shadow-md cursor-pointer hover:opacity-80 transition-opacity">
                    <img src="https://placehold.co/400x300/fbbf24/333333?text=Group+Project"
                        alt="Students collaborating on a project"
                        class="gallery-item h-full w-full object-cover rounded-lg shadow-md cursor-pointer hover:opacity-80 transition-opacity">
                </div>
            </section>
        </div>
    </main>

    <!-- Lightbox Modal -->
    <div id="lightbox"
        class="lightbox hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-[100] opacity-0 pointer-events-none">
        <div class="lightbox-content relative bg-white p-4 rounded-lg max-w-4xl max-h-[90vh] w-full transform scale-95">
            <img id="lightbox-img" src class="w-full h-full object-contain" alt="Enlarged facility view">
            <button id="lightbox-close"
                class="absolute -top-4 -right-4 bg-white rounded-full p-2 text-gray-800 hover:bg-gray-200">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
            <button id="lightbox-prev"
                class="absolute left-4 top-1/2 -translate-y-1/2 bg-white bg-opacity-50 rounded-full p-2 text-gray-800 hover:bg-opacity-75">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
            </button>
            <button id="lightbox-next"
                class="absolute right-4 top-1/2 -translate-y-1/2 bg-white bg-opacity-50 rounded-full p-2 text-gray-800 hover:bg-opacity-75">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
            </button>
            <div id="lightbox-counter"
                class="absolute bottom-4 left-1/2 -translate-x-1/2 bg-black bg-opacity-50 text-white text-sm px-3 py-1 rounded-full">
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div id="footer-box"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ... existing menu and smooth scroll code ...
            // Mobile menu toggle
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
            // Mobile facilities accordion
            const accordionButton = document.getElementById('facilities-accordion-button');
            const accordionContent = document.getElementById('facilities-accordion-content');
            const accordionIcon = document.getElementById('accordion-icon');
            accordionButton.addEventListener('click', () => {
                accordionContent.classList.toggle('hidden');
                accordionIcon.classList.toggle('rotate-180');
            });
            // Desktop dropdown menu (hover)
            const dropdown = document.getElementById('facilities-dropdown-desktop');
            const dropdownMenu = document.getElementById('facilities-menu-desktop');
            dropdown.addEventListener('mouseenter', () => {
                dropdownMenu.classList.remove('opacity-0', '-translate-y-2', 'pointer-events-none');
                dropdownMenu.classList.add('opacity-100', 'translate-y-0');
            });
            dropdown.addEventListener('mouseleave', () => {
                dropdownMenu.classList.remove('opacity-100', 'translate-y-0');
                dropdownMenu.classList.add('opacity-0', '-translate-y-2', 'pointer-events-none');
            });
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                        if (!mobileMenu.classList.contains('hidden')) {
                            mobileMenu.classList.add('hidden');
                        }
                    }
                });
            });
            // --- Typewriter Animation ---
            function typewriter(element, speed = 40) {
                // ... existing typewriter code ...
                const text = element.getAttribute('data-text');
                if (!text || element.dataset.animated) return;
                element.dataset.animated = 'true';
                element.innerHTML = "";
                element.classList.add('typing-cursor');
                let i = 0;

                function type() {
                    if (i < text.length) {
                        element.innerHTML += text.charAt(i);
                        i++;
                        setTimeout(type, speed);
                    } else {
                        element.classList.remove('typing-cursor');
                    }
                }
                type();
            }
            const animatedElements = document.querySelectorAll('.description-text');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        typewriter(entry.target);
                        observer.unobserve(entry.target);
                    }
                });
            }, {
                threshold: 0.6
            });
            animatedElements.forEach(el => observer.observe(el));
            // --- NEW: Lightbox Gallery Logic ---
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxClose = document.getElementById('lightbox-close');
            const lightboxPrev = document.getElementById('lightbox-prev');
            const lightboxNext = document.getElementById('lightbox-next');
            const lightboxCounter = document.getElementById('lightbox-counter');
            let galleries = {};
            let currentGalleryId = null;
            let currentIndex = 0;
            // Populate galleries object
            document.querySelectorAll('.image-gallery').forEach(gallery => {
                const galleryId = gallery.dataset.galleryId;
                const images = gallery.querySelectorAll('.gallery-item');
                galleries[galleryId] = Array.from(images).map(img => img.src);
            });

            function showImage(galleryId, index) {
                const galleryImages = galleries[galleryId];
                if (!galleryImages || index < 0 || index >= galleryImages.length) {
                    return;
                }
                currentIndex = index;
                currentGalleryId = galleryId;
                lightboxImg.src = galleryImages[currentIndex];
                lightboxCounter.textContent = `${currentIndex + 1} / ${galleryImages.length}`;
                lightboxPrev.style.display = currentIndex > 0 ? 'block' : 'none';
                lightboxNext.style.display = currentIndex < galleryImages.length - 1 ? 'block' : 'none';
            }

            function openLightbox(galleryId, index) {
                lightbox.classList.remove('hidden');
                setTimeout(() => {
                    lightbox.classList.remove('opacity-0', 'pointer-events-none');
                    lightbox.querySelector('.lightbox-content').classList.remove('scale-95');
                }, 10);
                showImage(galleryId, index);
            }

            function closeLightbox() {
                lightbox.classList.add('opacity-0', 'pointer-events-none');
                lightbox.querySelector('.lightbox-content').classList.add('scale-95');
                setTimeout(() => {
                    lightbox.classList.add('hidden');
                }, 300);
            }
            // Add click listeners to all gallery items
            document.querySelectorAll('.gallery-item').forEach((item, index) => {
                item.addEventListener('click', () => {
                    const galleryEl = item.closest('.image-gallery');
                    const galleryId = galleryEl.dataset.galleryId;
                    const itemIndex = Array.from(galleryEl.querySelectorAll('.gallery-item'))
                        .indexOf(item);
                    openLightbox(galleryId, itemIndex);
                });
            });
            // Lightbox controls
            lightboxClose.addEventListener('click', closeLightbox);
            lightbox.addEventListener('click', (e) => {
                if (e.target === lightbox) {
                    closeLightbox();
                }
            });
            lightboxPrev.addEventListener('click', () => showImage(currentGalleryId, currentIndex - 1));
            lightboxNext.addEventListener('click', () => showImage(currentGalleryId, currentIndex + 1));
            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (!lightbox.classList.contains('hidden')) {
                    if (e.key === 'Escape') closeLightbox();
                    if (e.key === 'ArrowLeft') lightboxPrev.click();
                    if (e.key === 'ArrowRight') lightboxNext.click();
                }
            });
        });
    </script>

    <script src="./script.js"></script>
</body>

</html>